<div *ngIf="selectedYear" class="center">
  <p class='stylingFormula'>{{selectedYear}} FORMULA</p>
</div>

<div style="text-align:center;" class="row">
  <div class=col-md-4>
    <button class="button-styling">
      <select class="selection stylingSelect" #year (change)="update($event)">
        <option value="default">{{selectedYear}}</option>
        <option *ngFor="let years of everyFormulaYearAr()" [value]="years" size="5">
          {{years}}
        </option>
      </select>
    </button>
  </div>
  <div class=col-md-4>
    <button class="button-styling">
      <select class="selection stylingSelect" #race (change)="searchRace($event)">
        <option value="default">{{pista}}</option>
        <option *ngFor="let race of raceTable" [value]="race.raceName" size="5">
          {{race.raceName}}
        </option>
      </select>
    </button>
  </div>
  <div class=col-md-4>
    <button class="button-styling">
      <select [value]="" class="selection stylingSelect" #drivername (change)="driverNameFunction($event)">
        <option value="default">{{driversName}}</option>
        <option *ngFor="let driver of grandPrixInfo" [value]="driver.Driver.driverId" size="5">
          {{driver.Driver.driverId}}
        </option>



      </select>
    </button>
  </div>
</div>

<div style="margin-top:3%;" *ngIf="circuitInfo" class="container-fluid">

  <div class="row">
    <div class="col-md-3 col-sm-6 col-12">
      <div class="info-box">
        <span class="info-box-icon bg-info"><i class="far fa-envelope"></i></span>

        <div class="info-box-content">
          <span class="info-box-text">Circuit Name</span>
          <span class="info-box-number">{{circuitInfo.circuitName}}</span>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 col-12">
      <div class="info-box">
        <span class="info-box-icon bg-success"><i class="far fa-flag"></i></span>

        <div class="info-box-content">
          <span class="info-box-text">Country</span>
          <span class="info-box-number">{{circuitInfo.Location.country}}</span>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 col-12">
      <div class="info-box">
        <span class="info-box-icon bg-warning"><i class="far fa-copy"></i></span>

        <div class="info-box-content">
          <span class="info-box-text">City</span>
          <span class="info-box-number">{{circuitInfo.Location.locality}}</span>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 col-12">
      <div class="info-box">
        <span class="info-box-icon bg-danger"><i class="fas fa-hourglass-start"></i></span>

        <div class="info-box-content">
          <span class="info-box-text">{{circuitData.date}}</span>
          <span class="info-box-number">{{circuitDataTime}}</span>
        </div>
      </div>
    </div>
  </div>



  <table style="margin-top: 2%;text-align:center;font-family:formula"
    *ngIf="pista && selectedYear!=2021 && tableCircuit == true" class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Position</th>
        <th scope="col">Points</th>
        <th scope="col">Driver Name</th>
        <th scope="col">Constructor Name</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let gp of grandPrixInfo">
        <th scope="row">{{gp.position}}</th>
        <td>{{gp.points}}</td>
        <td>{{gp.Driver.familyName}}</td>

        <td>{{gp.Constructor.name}}</td>

      </tr>
    </tbody>
  </table>
  <table style="margin-top: 2%;text-align:center;" *ngIf="pista && selectedYear==2021 && tableCircuit == true"
    class="table table-striped ">
    <thead>
      <tr>
        <th scope="col">Position</th>
        <th scope="col">Points</th>
        <th scope="col">Driver Name</th>
        <th scope="col"></th>
        <th scope="col">Constructor Name</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <tr style="vertical-align: center !important;" *ngFor="let gp of grandPrixInfo">
        <th scope="row">{{gp.position}}</th>
        <td>{{gp.points}}</td>
        <td style="vertical-align: center !important;">{{gp.Driver.familyName}}</td>
        <td>
          <img src="assets/images/drivers/{{gp.Driver.driverId}}.jpeg" width="100" height="100"
            class="d-inline-block align-top" alt="">
        </td>
        <td>{{gp.Constructor.name}}</td>
        <td>
          <img src="assets/images/constructor/{{gp.Constructor.constructorId}}.png" width="300" height="100"
            class="d-inline-block align-top" alt="">
        </td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="driverInformatione">
    <div style="text-align:center;" class="row">
      <div class="col-md-6">
        <img style="width: 537px;
        height: 335px;
        left: 6%;
        position: relative;
        border-radius: 20px;" src="assets/images/drivers/{{driverCircuitInfo.Driver.driverId}}.jpeg"
          alt="{{driverCircuitInfo.Driver.driverId}}">
      </div>
      <div class="col-md-6">
        <div style="text-align:center;" class="row">
          <div col-md-6>
            <img src="assets/images/constructor/{{driverCircuitInfo.Constructor.constructorId}}.png" style="width:100%;"
              alt="{{driverCircuitInfo.Constructor.constructorId}}">
          </div>
          <div col-md-6>
            <table class="table">
              <tr>
                <th scope="col">Constructor:</th>
                <th scope="col"> {{driverCircuitInfo.Constructor.name}}</th>
              </tr>
              <tr>
                <th scope="col">Country:</th>
                <th scope="col"> {{driverCircuitInfo.Constructor.nationality}}</th>
              </tr>
            </table>
          </div>
        </div>
        <div style="text-align:center;" class="row">
          <table *ngIf="driverInformatione" style="margin-top: 2%;text-align:center;" class="table">
            <tr>

              <th scope="col">Name</th>
              <th scope="col">{{driverInformatione.driverId}}</th>
            </tr>
            <tr>
              <th scope="col">Family Name</th>
              <th>{{driverInformatione.familyName}}</th>
            </tr>
            <tr>
              <th scope="col">First Name</th>
              <th>{{driverInformatione.givenName}}</th>
            </tr>
            <tr>
              <th scope="col">Date of Birth</th>
              <th scope="col">{{driverInformatione.dateOfBirth}}</th>
            </tr>
            <tr>
              <th scope="col">Nationality </th>
              <th scope="col">{{driverInformatione.nationality}}</th>
            </tr>

          </table>
        </div>
      </div>
    </div>
  </div>

  <table *ngIf="driverInformatione" style="margin-top: 2%;text-align:center;" class="table">
    <tr>
      <th scope="col">position</th>
      <th scope="col">points</th>
      <th scope="col">grid </th>
      <th scope="col">laps </th>
      <th scope="col">status </th>
      <th scope="col">time</th>
      <th scope="col">FastestLap</th>
    </tr>
    <tr>
      <th scope="row">{{driverCircuitInfo.position}}</th>
      <td>{{driverCircuitInfo.points}}</td>
      <td>{{driverCircuitInfo.grid}}</td>
      <td>{{driverCircuitInfo.laps}}</td>
      <td>{{driverCircuitInfo.status}}</td>
      <td *ngIf="driverCircuitInfo.status == 'Finished'">{{driverCircuitInfo.Time.time}}</td>
      <td *ngIf="driverCircuitInfo.status == 'Finished'">{{driverCircuitInfo.FastestLap.Time.time}}</td>
      <td *ngIf="driverCircuitInfo.status != 'Finished'">{{driverCircuitInfo.status}}</td>
      <td *ngIf="driverCircuitInfo.status != 'Finished'">{{driverCircuitInfo.status}}</td>
  </table>
